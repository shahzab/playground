(this.webpackJsonpemanager=this.webpackJsonpemanager||[]).push([[0],{36:function(e){e.exports=JSON.parse('{"app":{"company":"e-Xperts IT Services"}}')},69:function(e,t){},70:function(e,t,s){"use strict";s.r(t);var r=s(1),a=s.n(r),c=s(18),n=s.n(c),l=s(16),i=s.n(l),o=s(19),d=s(12),j=s.n(d),m=s(39);j.a.defaults.baseURL="https://login.e-xperts.biz/rest/customer",j.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||m.a.error("An unexpected error occured."),Promise.reject(e)}));var h={get:j.a.get,post:j.a.post,put:j.a.put,delete:j.a.delete,setJWT:function(e){j.a.defaults.headers.common["x-auth-token"]=O.getJWT(e)}},b=s(35);function u(){return(u=Object(o.a)(i.a.mark((function e(t,s){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/auth/login",{username:t,password:s});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return localStorage.getItem("customerToken")}setTimeout((function(){h.setJWT(p())}),1e3);var O={login:function(e,t){return u.apply(this,arguments)},getCurrentUser:function(){try{var e=localStorage.getItem("customerToken");return Object(b.a)(e)}catch(t){return null}},getJWT:p,logout:function(){localStorage.removeItem("customerToken")}},x=s(13),f=s(2),g=s(15),v=s(38),N=s(7),w=s(8),y=s(10),k=s(9),S=(s(32),s(63),s(36)),C=s(0),P=function(e){Object(y.a)(s,e);var t=Object(k.a)(s);function s(){return Object(N.a)(this,s),t.apply(this,arguments)}return Object(w.a)(s,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"header collapse d-lg-flex p-0",id:"headerMenuCollapse",children:Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"row align-items-center",children:Object(C.jsx)("div",{className:"col-lg order-lg-first",children:Object(C.jsxs)("ul",{className:"nav nav-tabs border-0 flex-column flex-lg-row",children:[Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsxs)("a",{href:"./index.html",className:"nav-link active",children:[Object(C.jsx)("i",{className:"fe fe-home"})," Home"]})}),Object(C.jsxs)("li",{className:"nav-item",children:[Object(C.jsxs)("a",{href:"javascript:void(0)",className:"nav-link","data-toggle":"dropdown",children:[Object(C.jsx)("i",{className:"fe fe-box"})," Interface"]}),Object(C.jsxs)("div",{className:"dropdown-menu dropdown-menu-arrow",children:[Object(C.jsx)("a",{href:"./cards.html",className:"dropdown-item ",children:"Cards design"}),Object(C.jsx)("a",{href:"./charts.html",className:"dropdown-item ",children:"Charts"}),Object(C.jsx)("a",{href:"./pricing-cards.html",className:"dropdown-item ",children:"Pricing cards"})]})]}),Object(C.jsxs)("li",{className:"nav-item dropdown",children:[Object(C.jsxs)("a",{href:"javascript:void(0)",className:"nav-link","data-toggle":"dropdown",children:[Object(C.jsx)("i",{className:"fe fe-calendar"})," Components"]}),Object(C.jsxs)("div",{className:"dropdown-menu dropdown-menu-arrow",children:[Object(C.jsx)("a",{href:"./maps.html",className:"dropdown-item ",children:"Maps"}),Object(C.jsx)("a",{href:"./icons.html",className:"dropdown-item ",children:"Icons"}),Object(C.jsx)("a",{href:"./store.html",className:"dropdown-item ",children:"Store"}),Object(C.jsx)("a",{href:"./blog.html",className:"dropdown-item ",children:"Blog"}),Object(C.jsx)("a",{href:"./carousel.html",className:"dropdown-item ",children:"Carousel"})]})]}),Object(C.jsxs)("li",{className:"nav-item dropdown",children:[Object(C.jsxs)("a",{href:"javascript:void(0)",className:"nav-link","data-toggle":"dropdown",children:[Object(C.jsx)("i",{className:"fe fe-file"})," Pages"]}),Object(C.jsxs)("div",{className:"dropdown-menu dropdown-menu-arrow",children:[Object(C.jsx)("a",{href:"./profile.html",className:"dropdown-item ",children:"Profile"}),Object(C.jsx)("a",{href:"./login.html",className:"dropdown-item ",children:"Login"}),Object(C.jsx)("a",{href:"./register.html",className:"dropdown-item ",children:"Register"}),Object(C.jsx)("a",{href:"./forgot-password.html",className:"dropdown-item ",children:"Forgot password"}),Object(C.jsx)("a",{href:"./400.html",className:"dropdown-item ",children:"400 error"}),Object(C.jsx)("a",{href:"./401.html",className:"dropdown-item ",children:"401 error"}),Object(C.jsx)("a",{href:"./403.html",className:"dropdown-item ",children:"403 error"}),Object(C.jsx)("a",{href:"./404.html",className:"dropdown-item ",children:"404 error"}),Object(C.jsx)("a",{href:"./500.html",className:"dropdown-item ",children:"500 error"}),Object(C.jsx)("a",{href:"./503.html",className:"dropdown-item ",children:"503 error"}),Object(C.jsx)("a",{href:"./email.html",className:"dropdown-item ",children:"Email"}),Object(C.jsx)("a",{href:"./empty.html",className:"dropdown-item ",children:"Empty page"}),Object(C.jsx)("a",{href:"./rtl.html",className:"dropdown-item ",children:"RTL mode"})]})]}),Object(C.jsx)("li",{className:"nav-item dropdown",children:Object(C.jsxs)("a",{href:"./form-elements.html",className:"nav-link",children:[Object(C.jsx)("i",{className:"fe fe-check-square"})," Forms"]})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsxs)("a",{href:"./gallery.html",className:"nav-link",children:[Object(C.jsx)("i",{className:"fe fe-image"})," Gallery"]})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsxs)("a",{href:"./docs/index.html",className:"nav-link",children:[Object(C.jsx)("i",{className:"fe fe-file-text"})," Documentation"]})})]})})})})})}}]),s}(r.Component),T=function(e){Object(y.a)(s,e);var t=Object(k.a)(s);function s(){var e;Object(N.a)(this,s);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).user=O.getCurrentUser(),e}return Object(w.a)(s,[{key:"render",value:function(){return Object(C.jsxs)(a.a.Fragment,{children:[Object(C.jsx)("div",{className:"header py-4",children:Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)("div",{className:"d-flex",children:[Object(C.jsx)("div",{className:"header-brand",children:Object(C.jsx)(x.b,{to:"/",children:Object(C.jsx)("img",{src:"/assets/images/logo.png",height:"32",alt:""})})}),Object(C.jsx)("div",{className:"d-flex order-lg-2 ml-auto",children:Object(C.jsxs)("div",{className:"dropdown",children:[Object(C.jsxs)("a",{href:"#",className:"nav-link pr-0 leading-none","data-toggle":"dropdown",children:[Object(C.jsx)("span",{className:"avatar",style:{backgroundImage:"url("+this.user.avatar+")"}}),Object(C.jsxs)("span",{className:"ml-2 d-none d-lg-block",children:[Object(C.jsx)("span",{className:"text-default",children:this.user.name}),Object(C.jsx)("small",{className:"text-muted d-block mt-1",children:this.user.company})]})]}),Object(C.jsxs)("div",{className:"dropdown-menu dropdown-menu-right dropdown-menu-arrow",children:[Object(C.jsxs)(x.b,{className:"dropdown-item",to:"/profile",children:[Object(C.jsx)("i",{className:"dropdown-icon fe fe-user"})," Profile"]}),Object(C.jsx)("div",{className:"dropdown-divider"}),Object(C.jsxs)(x.b,{to:"/logout",className:"dropdown-item",children:[Object(C.jsx)("i",{className:"dropdown-icon fe fe-log-out"})," Sign out"]})]})]})})]})})}),Object(C.jsx)(P,{})]})}}]),s}(r.Component),I=function(e){Object(y.a)(s,e);var t=Object(k.a)(s);function s(){return Object(N.a)(this,s),t.apply(this,arguments)}return Object(w.a)(s,[{key:"render",value:function(){return Object(C.jsx)("footer",{className:"footer",children:Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)("div",{className:"row align-items-center flex-row-reverse",children:[Object(C.jsx)("div",{className:"col-auto ml-lg-auto",children:Object(C.jsxs)("div",{className:"row align-items-center",children:[Object(C.jsx)("div",{className:"col-auto",children:Object(C.jsxs)("ul",{className:"list-inline list-inline-dots mb-0",children:[Object(C.jsx)("li",{className:"list-inline-item",children:Object(C.jsx)("a",{href:"./docs/index.html",children:"Documentation"})}),Object(C.jsx)("li",{className:"list-inline-item",children:Object(C.jsx)("a",{href:"./faq.html",children:"FAQ"})})]})}),Object(C.jsx)("div",{className:"col-auto",children:Object(C.jsx)("a",{href:"https://github.com/tabler/tabler",className:"btn btn-outline-primary btn-sm",children:"Source code"})})]})}),Object(C.jsxs)("div",{className:"col-12 col-lg-auto mt-3 mt-lg-0 text-center",children:["Copyright \xa9 ",(new Date).getFullYear()," ",S.app.company,". All rights reserved."]})]})})})}}]),s}(r.Component),F=function(e){Object(y.a)(s,e);var t=Object(k.a)(s);function s(){return Object(N.a)(this,s),t.apply(this,arguments)}return Object(w.a)(s,[{key:"render",value:function(){var e=this.props,t=(e.component,e.render,Object(v.a)(e,["component","render"]));if(localStorage.getItem("customerToken")&&O.getCurrentUser())return 1!=this.props.hideTemplate?Object(C.jsxs)(f.b,Object(g.a)(Object(g.a)({},t),{},{children:[Object(C.jsx)(T,{}),Object(C.jsx)("div",{className:"my-3 my-md-5",children:Object(C.jsx)("div",{className:"container",children:this.props.children})}),Object(C.jsx)(I,{})]})):Object(C.jsx)(f.b,Object(g.a)(Object(g.a)({},t),{},{children:this.props.children}));var s={pathname:"/login",state:{previousPage:this.props.location}};return Object(C.jsx)(f.a,{to:s})}}]),s}(r.Component),M=(s(69),function(e){Object(y.a)(s,e);var t=Object(k.a)(s);function s(){var e;Object(N.a)(this,s);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={submitProcessing:!1,errorMessage:""},e.username=a.a.createRef(),e.password=a.a.createRef(),e.normalState="Login",e.processingState=Object(C.jsxs)(a.a.Fragment,{children:[Object(C.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(C.jsx)("span",{children:" Loading"})]}),e.handleSubmit=function(t){t.preventDefault(),e.setState({submitProcessing:!0}),""==e.username.current.value||""==e.password.current.value?e.setState({errorMessage:"Username and password is required to be filled.",submitProcessing:!1}):e.doSubmit(e.username.current.value,e.password.current.value)},e.doSubmit=function(){var t=Object(o.a)(i.a.mark((function t(s,r){var a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.login(s,r);case 2:a=t.sent,"success"==(c=a.data).status?(localStorage.setItem("customerToken",c.token),e.props.history.push(e.props.location.state.previousPage)):(e.setState({errorMessage:c.message,submitProcessing:!1}),e.password.current.value="",e.password.current.focus());case 5:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}(),e}return Object(w.a)(s,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"row",children:Object(C.jsxs)("div",{className:"col-md-4 mt-4 mx-auto",children:[Object(C.jsx)("div",{className:"text-center mb-2",children:Object(C.jsx)("img",{src:"/assets/images/logo.png",height:"50"})}),Object(C.jsxs)("div",{className:"card",children:[Object(C.jsx)("div",{className:"card-header",children:"Customer Login"}),Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("div",{id:"message",children:this.state.errorMessage&&Object(C.jsx)("div",{className:"alert alert-danger",children:this.state.errorMessage})}),Object(C.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsxs)("label",{htmlFor:"username",children:["Username ",Object(C.jsx)("span",{className:"text-danger",children:"*"})]}),Object(C.jsx)("input",{type:"text",id:"username",className:"form-control",ref:this.username})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsxs)("label",{htmlFor:"password",children:["Password ",Object(C.jsx)("span",{className:"text-danger",children:"*"})]}),Object(C.jsx)("input",{type:"password",id:"password",className:"form-control",ref:this.password})]}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{disabled:this.state.submitProcessing,className:"btn btn-block btn-primary",children:this.state.submitProcessing?this.processingState:this.normalState})})]})]})]})]})})})}}]),s}(r.Component)),J=function(e){Object(y.a)(s,e);var t=Object(k.a)(s);function s(){return Object(N.a)(this,s),t.apply(this,arguments)}return Object(w.a)(s,[{key:"render",value:function(){return Object(C.jsx)("h1",{children:"Dashboard"})}}]),s}(r.Component),L=function(e){Object(y.a)(s,e);var t=Object(k.a)(s);function s(){return Object(N.a)(this,s),t.apply(this,arguments)}return Object(w.a)(s,[{key:"render",value:function(){return Object(C.jsx)("h1",{className:"title",children:"Profile"})}}]),s}(r.Component);var U=function(){return Object(C.jsx)(x.a,{children:Object(C.jsxs)(f.d,{children:[Object(C.jsx)(F,{exact:!0,path:"/",children:Object(C.jsx)(J,{})}),Object(C.jsx)(F,{path:"/profile",children:Object(C.jsx)(L,{})}),Object(C.jsx)(f.b,{path:"/login",component:M}),Object(C.jsx)(F,{path:"/logout",children:Object(C.jsx)(A,{})})]})})};function A(){return O.logout(),Object(C.jsx)(f.a,{to:"/"})}n.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(U,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.3cb7fc48.chunk.js.map